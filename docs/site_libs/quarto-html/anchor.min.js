!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():(e.AnchorJS=t(),e.anchors=new e.AnchorJS)}(globalThis,function(){"use strict";return function(e){function t(e){e.icon=Object.prototype.hasOwnProperty.call(e,"icon")?e.icon:"",e.visible=Object.prototype.hasOwnProperty.call(e,"visible")?e.visible:"hover",e.placement=Object.prototype.hasOwnProperty.call(e,"placement")?e.placement:"right",e.ariaLabel=Object.prototype.hasOwnProperty.call(e,"ariaLabel")?e.ariaLabel:"Anchor",e.class=Object.prototype.hasOwnProperty.call(e,"class")?e.class:"",e.base=Object.prototype.hasOwnProperty.call(e,"base")?e.base:"",e.truncate=Object.prototype.hasOwnProperty.call(e,"truncate")?Math.floor(e.truncate):64,e.titleText=Object.prototype.hasOwnProperty.call(e,"titleText")?e.titleText:""}function n(e){var t;if("string"==typeof e||e instanceof String)t=[].slice.call(document.querySelectorAll(e));else{if(!(Array.isArray(e)||e instanceof NodeList))throw new TypeError("The selector provided to AnchorJS was invalid.");t=[].slice.call(e)}return t}this.options=e||{},this.elements=[],t(this.options),this.add=function(e){var s,o,i,a,r,c,l,d,u,h,f,m=[];if(t(this.options),0!==(i=n(e=e||"h2, h3, h4, h5, h6")).length){for(null===document.head.querySelector("style.anchorjs")&&((e=document.createElement("style")).className="anchorjs",e.appendChild(document.createTextNode("")),0[0]===(d=document.head.querySelector('[rel="stylesheet"],style'))?document.head.appendChild(e):document.head.insertBefore(e,d),e.sheet.insertRule(".anchorjs-link{opacity:0;text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}",e.sheet.cssRules.length),e.sheet.insertRule(":hover>.anchorjs-link,.anchorjs-link:focus{opacity:1}",e.sheet.cssRules.length),e.sheet.insertRule("[data-anchorjs-icon]::after{content:attr(data-anchorjs-icon)}",e.sheet.cssRules.length),e.sheet.insertRule('@font-face{font-family:anchorjs-icons;src:url(data:n/a;base64,AAEAAAALAIAAAwAwT1MvMg8yG2cAAAE4AAAAYGNtYXDp3gC3AAABpAAAAExnYXNwAAAAEAAAA9wAAAAIZ2x5ZlQCcfwAAAH4AAABCGhlYWQHFvHyAAAAvAAAADZoaGVhBnACFwAAAPQAAAAkaG10eASAADEAAAGYAAAADGxvY2EACACEAAAB8AAAAAhtYXhwAAYAVwAAARgAAAAgbmFtZQGOH9cAAAMAAAAAunBvc3QAAwAAAAADvAAAACAAAQAAAAEAAHzE2p9fDzz1AAkEAAAAAADRecUWAAAAANQA6R8AAAAAAoACwAAAAAgAAgAAAAAAAAABAAADwP/AAAACgAAA/9MCrQABAAAAAAAAAAAAAAAAAAAAAwABAAAAAwBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAMCQAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAg//0DwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAAIAAAACgAAxAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADAAAAAIAAgAAgAAACDpy//9//8AAAAg6cv//f///+EWNwADAAEAAAAAAAAAAAAAAAAACACEAAEAAAAAAAAAAAAAAAAxAAACAAQARAKAAsAAKwBUAAABIiYnJjQ3NzY2MzIWFxYUBwcGIicmNDc3NjQnJiYjIgYHBwYUFxYUBwYGIwciJicmNDc3NjIXFhQHBwYUFxYWMzI2Nzc2NCcmNDc2MhcWFAcHBgYjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAAADACWAAEAAAAAAAEACAAAAAEAAAAAAAIAAwAIAAEAAAAAAAMACAAAAAEAAAAAAAQACAAAAAEAAAAAAAUAAQALAAEAAAAAAAYACAAAAAMAAQQJAAEAEAAMAAMAAQQJAAIABgAcAAMAAQQJAAMAEAAMAAMAAQQJAAQAEAAMAAMAAQQJAAUAAgAiAAMAAQQJAAYAEAAMYW5jaG9yanM0MDBAAGEAbgBjAGgAbwByAGoAcwA0ADAAMABAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAP) format("truetype")}',e.sheet.cssRules.length)),d=document.querySelectorAll("[id]"),u=[].map.call(d,function(e){return e.id}),s=0;s<i.length;s++)if(this.hasAnchorJSLink(i[s]))m.push(s);else{if(i[s].hasAttribute("id"))r=i[s].getAttribute("id");else if(i[s].hasAttribute("data-anchor-id"))r=i[s].getAttribute("data-anchor-id");else{for(a=f=this.urlify(i[s].textContent),h=0;c=u.indexOf(a=0[0]!==c?f+"-"+h:a),h+=1,-1!==c;);c=0[0],u.push(a),i[s].setAttribute("id",a),r=a}(o=document.createElement("a")).className="anchorjs-link "+this.options.class,o.setAttribute("aria-label",this.options.ariaLabel),o.setAttribute("data-anchorjs-icon",this.options.icon),this.options.titleText&&(o.title=this.options.titleText),l=document.querySelector("base")?window.location.pathname+window.location.search:"",l=this.options.base||l,o.href=l+"#"+r,"always"===this.options.visible&&(o.style.opacity="1"),""===this.options.icon&&(o.style.font="1em/1 anchorjs-icons","left"===this.options.placement)&&(o.style.lineHeight="inherit"),"left"===this.options.placement?(o.style.position="absolute",o.style.marginLeft="-1.25em",o.style.paddingRight=".25em",o.style.paddingLeft=".25em",i[s].insertBefore(o,i[s].firstChild)):(o.style.marginLeft=".1875em",o.style.paddingRight=".1875em",o.style.paddingLeft=".1875em",i[s].appendChild(o))}for(s=0;s<m.length;s++)i.splice(m[s]-s,1);this.elements=this.elements.concat(i)}return this},this.remove=function(e){for(var o,i,s=n(e),t=0;t<s.length;t++)(i=s[t].querySelector(".anchorjs-link"))&&(-1!==(o=this.elements.indexOf(s[t]))&&this.elements.splice(o,1),s[t].removeChild(i));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(e){var n=document.createElement("textarea");return n.innerHTML=e,e=n.value,this.options.truncate||t(this.options),e.trim().replace(/'/gi,"").replace(/[& +$,:;=?@"#{}|^~[`%!'<>\]./()*\\\n\t\b\v\u00A0]/g,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(e){var t=e.firstChild&&-1<(" "+e.firstChild.className+" ").indexOf(" anchorjs-link "),e=e.lastChild&&-1<(" "+e.lastChild.className+" ").indexOf(" anchorjs-link ");return t||e}}})