<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en xml:lang=en><meta charset=utf-8><meta name=generator content="quarto-1.7.33"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><title>pipe-passwords – Operating System (2025 Fall)</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}div.columns{display:flex;gap:min(4vw,1.5em)}div.column{flex:auto;overflow-x:auto}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list{list-style:none}ul.task-list li input[type=checkbox]{width:.8em;margin:0 .8em .2em -1em;vertical-align:middle}html{-webkit-text-size-adjust:100%}pre>code.sourceCode{white-space:pre;position:relative}pre>code.sourceCode>span{display:inline-block;line-height:1.25}pre>code.sourceCode>span:empty{height:1.2em}.sourceCode{overflow:visible}code.sourceCode>span{color:inherit;text-decoration:inherit}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{pre>code.sourceCode{white-space:pre-wrap}pre>code.sourceCode>span{text-indent:-5em;padding-left:5em}}pre.numberSource code{counter-reset:source-line 0}pre.numberSource code>span{position:relative;left:-4em;counter-increment:source-line}pre.numberSource code>span>a:first-child::before{content:counter(source-line);position:relative;left:-1em;text-align:right;vertical-align:baseline;border:none;display:inline-block;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em}pre.numberSource{margin-left:3em;padding-left:4px}div.sourceCode{}@media screen{pre>code.sourceCode>span>a:first-child::before{text-decoration:underline}}</style><script src=../site_libs/quarto-nav/quarto-nav.js></script><script src=../site_libs/clipboard/clipboard.min.js></script><script src=../site_libs/quarto-search/autocomplete.umd.js></script><script src=../site_libs/quarto-search/fuse.min.js></script><script src=../site_libs/quarto-search/quarto-search.js></script><meta name=quarto:offset content="../"><link href=../images/orange.png rel=icon type=image/png><script src=../site_libs/quarto-html/quarto.js type=module></script><script src=../site_libs/quarto-html/tabsets/tabsets.js type=module></script><script src=../site_libs/quarto-html/popper.min.js></script><script src=../site_libs/quarto-html/tippy.umd.min.js></script><script src=../site_libs/quarto-html/anchor.min.js></script><link href=../site_libs/quarto-html/tippy.css rel=stylesheet><link href=../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css rel=stylesheet id=quarto-text-highlighting-styles><script src=../site_libs/bootstrap/bootstrap.min.js></script><link href=../site_libs/bootstrap/bootstrap-icons.css rel=stylesheet><link href=../site_libs/bootstrap/bootstrap-a3d6f4078ec9f2632a80ad631344d584.min.css rel=stylesheet append-hash=true id=quarto-bootstrap data-mode=light><script id=quarto-search-options type=application/json>{"location":"navbar","copy-button":false,"collapse-after":3,"panel-placement":"end","type":"overlay","limit":50,"keyboard-shortcut":["f","/","s"],"show-item-context":false,"language":{"search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search"}}</script><link rel=stylesheet href=../assets/webex.css><body class="nav-sidebar docked nav-fixed quarto-light"><div id=quarto-search-results></div><header id=quarto-header class="headroom fixed-top"><nav class="navbar navbar-expand-lg" data-bs-theme=dark><div class="navbar-container container-fluid"><div class="navbar-brand-container mx-auto"><a class=navbar-brand href=../index.html><span class=navbar-title>Operating System (2025 Fall)</span></a></div><div id=quarto-search title=Search></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarCollapse aria-controls=navbarCollapse role=menu aria-expanded=false aria-label="Toggle navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarCollapse><ul class="navbar-nav navbar-nav-scroll me-auto"><li class=nav-item><a class="nav-link active" href=../index.html aria-current=page><span class=menu-text>Home</span></a><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=nav-menu-handouts role=link data-bs-toggle=dropdown aria-expanded=false><span class=menu-text>Handouts</span></a><ul class=dropdown-menu aria-labelledby=nav-menu-handouts><li><a class=dropdown-item href=../handouts/env_setup.html><span class=dropdown-text>Enviroment setup</span></a></ul><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=nav-menu-admin role=link data-bs-toggle=dropdown aria-expanded=false><span class=menu-text>Admin</span></a><ul class=dropdown-menu aria-labelledby=nav-menu-admin><li><a class=dropdown-item href=../admin/policies.html><span class=dropdown-text>Policies</span></a><li><a class=dropdown-item href=../admin/explore.html><span class=dropdown-text>Exploratory Projects</span></a><li><a class=dropdown-item href=../admin/waitbutwhy.html><span class=dropdown-text>SD1↓ (燒蛋一下)</span></a></ul></ul><ul class="navbar-nav navbar-nav-scroll ms-auto"><li class="nav-item compact"><a class=nav-link href=https://dcs.site.nthu.edu.tw/><i class="bi bi-globe" role=img></i><span class=menu-text></span></a></ul></div><div class=quarto-navbar-tools></div></div></nav><nav class=quarto-secondary-nav><div class="container-fluid d-flex"><button type=button class="quarto-btn-toggle btn" data-bs-toggle=collapse role=button data-bs-target=.quarto-sidebar-collapse-item aria-controls=quarto-sidebar aria-expanded=false aria-label="Toggle sidebar navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()>
<i class="bi bi-layout-text-sidebar-reverse"></i></button><nav class=quarto-page-breadcrumbs aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../weeks/w5.html>Worksheet 5</a><li class=breadcrumb-item><a href=../labs/pipe-passwords.html>Parallelizing Rainbow Table Lookup with Pipes</a></ol></nav><a class=flex-grow-1 role=navigation data-bs-toggle=collapse data-bs-target=.quarto-sidebar-collapse-item aria-controls=quarto-sidebar aria-expanded=false aria-label="Toggle sidebar navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()></a><button type=button class="btn quarto-search-button" aria-label=Search onclick=window.quartoOpenSearch()>
<i class="bi bi-search"></i></button></div></nav></header><div id=quarto-content class="quarto-container page-columns page-rows-contents page-layout-article page-navbar"><nav id=quarto-sidebar class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center"><div class=sidebar-search><div id=quarto-search title=Search></div></div></div><div class=sidebar-menu-container><ul class="list-unstyled mt-1"><li class=sidebar-item><div class=sidebar-item-container><a href=../index.html class="sidebar-item-text sidebar-link"><span class=menu-text>OS 2025 Fall</span></a></div><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w2.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 2</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-1 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-1 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/env_setup.html class="sidebar-item-text sidebar-link"><span class=menu-text>Environment setup</span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w3.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 3</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-2 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-2 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/unix.html class="sidebar-item-text sidebar-link"><span class=menu-text>Unix Philosophy</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/mini-cloud.html class="sidebar-item-text sidebar-link"><span class=menu-text>Your First Week in OS Journey</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/process-creation.html class="sidebar-item-text sidebar-link"><span class=menu-text><code>fork()</code>/<code>exec()</code></span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w4.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 4</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-3 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-3 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/privilege.html class="sidebar-item-text sidebar-link"><span class=menu-text>Privilege</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/path-traversal.html class="sidebar-item-text sidebar-link"><span class=menu-text>Lab: Path Traversal Attack</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/process-address-space.html class="sidebar-item-text sidebar-link"><span class=menu-text>Address Space Layout</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/linking.html class="sidebar-item-text sidebar-link"><span class=menu-text>Static vs Dynamic Linking</span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w5.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 5</span></a>
<a class="sidebar-item-toggle text-start" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-4 role=navigation aria-expanded=true aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-4 class="collapse list-unstyled sidebar-section depth1 show"><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/pipe-passwords.html class="sidebar-item-text sidebar-link active"><span class=menu-text>Parallelizing Rainbow Table Lookup with Pipes</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/pipe-dup.html class="sidebar-item-text sidebar-link"><span class=menu-text>Pipes, Redirection, and File Descriptors</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/fifo.html class="sidebar-item-text sidebar-link"><span class=menu-text>FIFO (named pipe)</span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w6.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 6</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-5 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-5 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/scheduler.html class="sidebar-item-text sidebar-link"><span class=menu-text>Schedulers</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/process-state.html class="sidebar-item-text sidebar-link"><span class=menu-text>Process States in Linux</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/pipe-pingpong.html class="sidebar-item-text sidebar-link"><span class=menu-text>Pipe Pingpong</span></a></div></ul></ul></div></nav><div id=quarto-sidebar-glass class=quarto-sidebar-collapse-item data-bs-toggle=collapse data-bs-target=.quarto-sidebar-collapse-item></div><div id=quarto-margin-sidebar class="sidebar margin-sidebar"><nav id=TOC role=doc-toc class=toc-active><h2 id=toc-title>On this page</h2><ul><li><a href=#parallelizing-rainbow-table-lookup-with-pipes id=toc-parallelizing-rainbow-table-lookup-with-pipes class="nav-link active" data-scroll-target=#parallelizing-rainbow-table-lookup-with-pipes>Parallelizing Rainbow Table Lookup with Pipes</a><li><a href=#rainbow-table-lookup-with-pipes id=toc-rainbow-table-lookup-with-pipes class=nav-link data-scroll-target=#rainbow-table-lookup-with-pipes>Rainbow Table Lookup with Pipes</a><ul class=collapse><li><a href=#setup id=toc-setup class=nav-link data-scroll-target=#setup>️ Setup</a><li><a href=#test-the-md5-tool id=toc-test-the-md5-tool class=nav-link data-scroll-target=#test-the-md5-tool>Test the MD5 tool</a><li><a href=#run-sequential-version id=toc-run-sequential-version class=nav-link data-scroll-target=#run-sequential-version>Run Sequential Version</a><li><a href=#run-pipeline-version id=toc-run-pipeline-version class=nav-link data-scroll-target=#run-pipeline-version>Run Pipeline Version</a><li><a href=#try-a-hash-not-in-the-list id=toc-try-a-hash-not-in-the-list class=nav-link data-scroll-target=#try-a-hash-not-in-the-list>Try a hash not in the list</a><li><a href=#try-a-larger-password-file id=toc-try-a-larger-password-file class=nav-link data-scroll-target=#try-a-larger-password-file>Try a larger password file</a><li><a href=#reflections id=toc-reflections class=nav-link data-scroll-target=#reflections>Reflections</a></ul></ul></nav></div><main class=content id=quarto-document-content><header id=title-block-header class=quarto-title-block><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../weeks/w5.html>Worksheet 5</a><li class=breadcrumb-item><a href=../labs/pipe-passwords.html>Parallelizing Rainbow Table Lookup with Pipes</a></ol></nav></header><section id=parallelizing-rainbow-table-lookup-with-pipes class=level1><h1>Parallelizing Rainbow Table Lookup with Pipes</h1><p><strong>Niko</strong>: My mom is 70 and forgets things, but she never forgets me and my birthday. So she uses <code>niko0107</code> as the password for every site. Works for her.<p><strong>Nini</strong>: That’s cute. Do you know how websites <em>actually</em> store your password?<p><strong>Niko</strong>: They keep it secret, right? Plain text in their disk?<p><strong>Nini</strong>: No.&nbsp;They hash it with a cryptographic function. When you type a password, the site runs it through a hash function and stores only the hash. The hash can be very long. In practice, it is not possible to find out the plaintext password without quantum computer.<p><strong>Niko</strong>: So if someone steals the hashes, they still can’t read the passwords?<p><strong>Nini</strong>: They can try. If lots of people reuse simple passwords like <code>niko0107</code>, an attacker can compute hashes for many candidate passwords and compare them to the stolen hashes. If one matches, they know the plaintext. That’s why leaks are dangerous: the attacker gets a list of hashes and then tries candidates until something matches. They call this <a href=https://en.wikipedia.org/wiki/Rainbow_table>Rainbow table</a><p><strong>Niko</strong>: So they just try every password?<p><strong>Nini</strong>: Yes. If the attacker has the leaked hashes, they can use a password list or generate guesses, hash each guess, and compare. If you reuse your password on other sites (e.g., Gmail, Yahoo), they can try those sites with the recovered password.<p><strong>Niko</strong>: Oh mao.<p><strong>Nini</strong>: Let’s do a hand-on lab to get a feeling. First you will learn how hashing and checking work. Then you will see how pipes let the two stages run at the same time so the check can start before hashing finishes.<div class="callout callout-style-default callout-note callout-titled"><div class="callout-header d-flex align-content-center" data-bs-toggle=collapse data-bs-target=.callout-1-contents aria-controls=callout-1 aria-expanded=false aria-label="Toggle callout"><div class=callout-icon-container><i class=callout-icon></i></div><div class="callout-title-container flex-fill">Why We Hash Passwords (and How They Get Cracked)</div><div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class=callout-toggle></i></div></div><div id=callout-1 class="callout-1-contents callout-collapse collapse"><div class="callout-body-container callout-body"><p>Websites never store your password in plaintext. Instead, when you register or log in:<ol type=1><li>Your plaintext password (like <code>admin</code>) is run through a cryptographic hash function.<li>Only the <strong>hash</strong> (like <code>21232f297a57a5a743894a0e4a801fc3</code>) is stored in the website’s backend database.<li>This way, even the site’s <strong>administrator cannot see your actual password</strong> (only the hash).</ol><p>But if the database is ever leaked or hacked, attackers can try to reverse the hashes.<p>They do this using a <strong>rainbow table</strong>: a huge file of common passwords. According to <a href=https://www.ithome.com.tw/news/144589>an iThome news (2021)</a>:<blockquote class=blockquote><p>來自臺灣的威脅情報研究人員 StillAzureH 近日向 Have I Been Pwned（HIBP）舉報，已於駭客論壇上發現來自臺灣入口網站蕃薯藤（yam.com）的外洩資料…… 該資料庫內含超過 <strong>1,300 萬筆用戶資料</strong>，其中包含使用者名稱、姓名、生日、電話、地址，與 <strong>未加鹽的 MD5 雜湊密碼</strong>。</blockquote><p>Because these passwords are hashed without salt using just MD5, attacker can easily recreate user’s plaintext password easily.<ul><li><a href=https://cybernews.com/security/billions-credentials-exposed-infostealers-data-leak/>Another famous example of password leaks in June 2025</a><li><a href=../assets/how-to-protect-password.pdf>How to protect your passwords (Chinese article)</a></ul></div></div></div></section><section id=rainbow-table-lookup-with-pipes class=level1><h1>Rainbow Table Lookup with Pipes</h1><p>In this lab, you’ll learn how <strong>pipes can accelerate computation</strong> by running two stages concurrently:<ul><li><strong>Stage 1 (<code>hash</code>)</strong>: reads a password list and outputs MD5 hashes<li><strong>Stage 2 (<code>check</code>)</strong>: compares the MD5 with a target hash</ul><p>We’ll run them:<ul><li><p><strong>Sequentially</strong> with <code>crack-seq</code> (hash then check). <code>crack-seq</code> runs <code>hash</code> to calculate the MD5 of each password in the password file, and write the output into <code>hashed.txt</code>. When <code>hash</code> finishes, <code>crack-seq</code> runs <code>check</code> that reads from <code>hashed.txt</code> and compares all the MD5 hashes in <code>hashed.txt</code> with a target hash. <code>crack-seq</code> has to wait for its child process to finish before it can fork a second child process.<li><p><strong>In parallel</strong> with <code>crack-pipeline</code> (hash and check in pipeline). <code>crack-pipeline</code> doesn’t write to a file first. It doesn’t wait for the first child to finish. It forks the two child processes together, and connect the two processes with a <code>pipe</code>. The first child <code>hash</code> writes directly to <code>stdout</code> line by line, and the second child <code>check</code> can read line by line as it is emitted from the pipe and process them.</ul><p><a href=https://codespaces.new/sys-nthu/lab-pipe-passwords><img src=https://github.com/codespaces/badge.svg class=img-fluid alt="open in GitHub Codespaces"></a>.<section id=setup class=level2><h2 class=anchored data-anchor-id=setup>️ Setup</h2><ol type=1><li><strong>Run the setup script</strong>: download the password list, clone the MD5 library, and compile the programs.</ol><div class=sourceCode id=cb1><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb1-1><a href=#cb1-1 aria-hidden=true tabindex=-1></a><span class=ex>./setup.sh</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div></section><section id=test-the-md5-tool class=level2><h2 class=anchored data-anchor-id=test-the-md5-tool>Test the MD5 tool</h2><p>Hash the password “admin” with MD5:<div class=sourceCode id=cb2><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb2-1><a href=#cb2-1 aria-hidden=true tabindex=-1></a><span class=ex>./md5sum</span> admin</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Expected output:<pre><code>21232f297a57a5a743894a0e4a801fc3</code></pre></section><section id=run-sequential-version class=level2><h2 class=anchored data-anchor-id=run-sequential-version>Run Sequential Version</h2><p>Use <code>time</code> to measure wall-clock time:<div class=sourceCode id=cb4><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true tabindex=-1></a><span class=bu>time</span> ./crack-seq 21232f297a57a5a743894a0e4a801fc3</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Example output:<pre><code>admin is found in passwords-10000.txt

real    0m0.038s
user    0m0.024s
sys     0m0.004s</code></pre></section><section id=run-pipeline-version class=level2><h2 class=anchored data-anchor-id=run-pipeline-version>Run Pipeline Version</h2><p>Run the hash and check stage in parallel through a pipe:<div class=sourceCode id=cb6><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb6-1><a href=#cb6-1 aria-hidden=true tabindex=-1></a><span class=bu>time</span> ./crack-pipeline 21232f297a57a5a743894a0e4a801fc3</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Example output:<pre><code>admin is found in passwords-10000.txt

real    0m0.012s
user    0m0.005s
sys     0m0.006s</code></pre><hr></section><section id=try-a-hash-not-in-the-list class=level2><h2 class=anchored data-anchor-id=try-a-hash-not-in-the-list>Try a hash not in the list</h2><div class=sourceCode id=cb8><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb8-1><a href=#cb8-1 aria-hidden=true tabindex=-1></a><span class=bu>time</span> ./crack-pipeline 21232f297a57a5a743894a0e4a801fb3</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Output:<pre><code>21232f297a57a5a743894a0e4a801fb3 is not found (password file = passwords-10000.txt)

real    0m0.026s
user    0m0.021s
sys     0m0.005s</code></pre></section><section id=try-a-larger-password-file class=level2><h2 class=anchored data-anchor-id=try-a-larger-password-file>Try a larger password file</h2><p>Use the <code>PASSWORD_FILE</code> environment variable to change the password file:<div class=sourceCode id=cb10><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb10-1><a href=#cb10-1 aria-hidden=true tabindex=-1></a><span class=bu>time</span> PASSWORD_FILE=passwords-1000000.txt ./crack-pipeline 21232f297a57a5a743894a0e4a801fc3</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><pre><code>admin is found in passwords-1000000.txt

real    0m0.012s
user    0m0.007s
sys     0m0.004s</code></pre><p>And run sequential for comparison:<div class=sourceCode id=cb12><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb12-1><a href=#cb12-1 aria-hidden=true tabindex=-1></a><span class=bu>time</span> PASSWORD_FILE=passwords-1000000.txt ./crack-seq 21232f297a57a5a743894a0e4a801fc3</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><pre><code>admin is found in passwords-1000000.txt

real    0m1.217s
user    0m0.937s
sys     0m0.092s</code></pre></section><section id=reflections class=level2><h2 class=anchored data-anchor-id=reflections>Reflections</h2><p>In the real world, attackers don’t just parallelize two processes. They may run thousands of processes across many machines. To protect our password, website owner uses salted hashes and strong hashing algorithms (SHA-256, not MD5!). To protect ourselves, we enable two-factor authentication and use password manager to assign a long, unique password for each website.</section></section><a onclick="return window.scrollTo(0,0),!1" role=button id=quarto-back-to-top><i class="bi bi-arrow-up"></i> Back to top</a></main><script>const webex_buttons={check_hidden:"<b>&check;</b>",check_hidden_alt:"Check answer",check_shown:"<b>&lsh;</b>",check_shown_alt:"Hide check",check_of_total:"/",solution:"<b>&quest;</b>",solution_alt:"Correct solution",question_next:"<b>&#8634;</b>",question_next_alt:"Next question",question_previous:"",question_previous_alt:""};update_total_correct=function(){console.log("webex: update total_correct"),document.querySelectorAll(".webex-total_correct").forEach(e=>{p=e.closest(".webex-box");var t=p.getElementsByClassName("webex-correct").length,n=p.getElementsByClassName("webex-solveme").length,s=p.getElementsByClassName("webex-radiogroup").length,o=p.getElementsByClassName("webex-select").length,i=p.querySelectorAll("div[class=webex-checkboxgroup] input[type=checkbox]").length;e.innerHTML=t+"&nbsp;"+webex_buttons.check_of_total+"&nbsp;"+(n+s+i+o)})},check_func=function(){console.log("webex: check answer");var e=this.closest(".webex-box").classList;e.contains("unchecked")?(e.remove("unchecked"),this.innerHTML=webex_buttons.check_shown,webex_buttons.check_shown_alt.length>0&&this.setAttribute("title",webex_buttons.check_shown_alt)):(e.add("unchecked"),this.innerHTML=webex_buttons.check_hidden,webex_buttons.check_hidden_alt.length>0&&this.setAttribute("title",webex_buttons.check_hidden_alt))};const id_checker={fmt:new RegExp("[g-zG-Z]"),load:function(e){return e.getAttribute("id").match("(?<=(-)).*$")[0]},eval:new TextEncoder,dval:new TextDecoder};solution_func=function(){console.log("webex: show/hide solution");var t=this.closest(".webex-question").querySelector(".webex-solution"),e=t.classList;e.contains("visible")?e.remove("visible"):e.add("visible")},convert_to_numeric=function(e){if(typeof e=="string");else if(e.length==1)e=e[0];else return NaN;e=e.replace(/\s/g,"");const t=[{regex:/^[+-]?\d+(\.\d{3})*,\d+$/,decimal:",",thousand:"."},{regex:/^[+-]?\d+(,\d{3})*\.\d+$/,decimal:".",thousand:","},{regex:/^[+-]?\d+(\.|\.\d+)?$/,decimal:"."},{regex:/^[+-]?\d+(,|,\d+)$/,decimal:","}];for(const{regex:s,decimal:o,thousand:n}of t)if(s.test(e)){let t=e;return n&&(t=t.replace(new RegExp(`\\${n}`,"g"),"")),t=t.replace(o,"."),parseFloat(t)}return NaN},check_id=function(e){var n=id_checker.load(e);let t=e.dataset.answer;if(!id_checker.fmt.test(n)){const s=id_checker.eval.encode(atob(t)),e=id_checker.eval.encode(n),o=s.map((t,n)=>t^e[n%e.length]);t=id_checker.dval.decode(o),t=t.replaceAll("&apos;","'")}return JSON.parse(t)},solveme_func=function(){console.log("webex: check solveme");const c=1e-14,l=this.closest(".webex-question");var o,r,t=this.classList,n=this.value,t=this.classList;if(n=="")return t.remove("webex-correct"),t.remove("webex-incorrect"),!1;let s=check_id(this);o=!1;const i=convert_to_numeric(s),a=convert_to_numeric(n);if(!(i!=i)&&!(a!=a))r=Math.abs(i-a),r<parseFloat(this.dataset.tol)+c&&(o=!0);else if(t.contains("regex")){for(let e=0;e<s.length;e++){let i=new RegExp(s[e],t.contains("ignorecase")?"i":"");if(i.test(n)){o=!0;break}}}else t.contains("ignorecase")&&(n=n.toLowerCase()),t.contains("nospaces")&&(n=n.replace(/ /g,"")),s.includes(n)&&(o=!0,t.contains("regex")&&(answer_regex=RegExp(s.join("|")),answer_regex.test(n)&&t.add("webex-correct")));o?(t.add("webex-correct"),t.remove("webex-incorrect")):(t.add("webex-incorrect"),t.remove("webex-correct")),update_total_correct()},select_func=function(){console.log("webex: check select");var t,s,n=[];Array.from(this.querySelectorAll("option")).forEach((e)=>{(!e.hasAttribute("value")||!e.getAttribute("value")==="blank")&&n.push(e)});function o(e){return e.findIndex(e=>e.selected)}t=o(n),s=check_id(this),this.classList.remove("webex-incorrect"),this.classList.remove("webex-correct"),t>=0&&this.classList.add(s[t]===1?"webex-correct":"webex-incorrect"),update_total_correct()},radiogroups_func=function(e){console.log("webex: check radiogroups");var t,n,i=e.target.getAttribute("name"),s=document.querySelector(".webex-radiogroup[id='webex-"+i+"']"),a=check_id(s);function r(e){return e.findIndex(e=>e.checked)}t=Array.from(s.querySelectorAll("input[type='radio']")),n=r(t),t.forEach(e=>{let t=e.closest("label").classList;t.remove("webex-incorrect"),t.remove("webex-correct")});let o=t[n].closest("label").classList;a[n]===1?o.add("webex-correct"):o.add("webex-incorrect"),update_total_correct()},checkboxgroups_func=function(){console.log("webex: check checkboxgroups");var n,i,t=document.querySelector(".webex-checkboxgroup[id='"+this.id+"']"),s=check_id(t);function o(e){const t=Array.from(e.querySelectorAll("input[type='checkbox']"));return t.reduce((e,t,n)=>(t.checked&&e.push(n),e),[])}n=Array.from(t.querySelectorAll("input[type='checkbox']")),i=o(t),n.forEach((e,t)=>{var n=e.parentNode,o=s[t];e.checked&&o===1||!e.checked&&o===0?n.setAttribute("class","webex-correct"):n.setAttribute("class","webex-incorrect")}),update_total_correct()},shuffle_array=function(e){Number.isInteger(e)&&!(e!=e)&&(e=Array.from({length:e},(e,t)=>t));let t=e.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e);return t},window.onload=function(){document.querySelectorAll(".webex-check").forEach(e=>{e.classList.add("unchecked");let n=document.createElement("ul");n.setAttribute("class","webex-button-list"),e.appendChild(n);let s=document.createElement("li");n.appendChild(s);let t=document.createElement("button");t.innerHTML=webex_buttons.check_hidden,t.setAttribute("class","webex-button webex-button-check"),webex_buttons.check_hidden_alt.length>0&&t.setAttribute("title",webex_buttons.check_hidden_alt),t.onclick=check_func,s.appendChild(t);let o=document.createElement("span");o.classList.add("webex-total_correct"),s.appendChild(o);var i=e.parentNode.querySelectorAll(".webex-solution").length>0;if(i){let t=document.createElement("li");n.appendChild(t);let e=document.createElement("button");e.innerHTML=webex_buttons.solution,e.setAttribute("class","webex-button webex-button-solution"),webex_buttons.solution_alt.length>0&&e.setAttribute("title",webex_buttons.solution_alt),e.onclick=solution_func,t.appendChild(e)}}),document.querySelectorAll(".webex-solveme").forEach(e=>{e.setAttribute("autocomplete","off"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false"),e.value="",e.classList.contains("nospaces")&&(e.dataset.answer=e.dataset.answer.replace(/ /g,"")),e.addEventListener("keyup",solveme_func),e.addEventListener("change",solveme_func),e.addEventListener("blur",solveme_func),e.insertAdjacentHTML("afterend"," <span class='webex-icon'></span>")}),document.querySelectorAll(".webex-radiogroup").forEach(e=>{e.onchange=radiogroups_func}),document.querySelectorAll(".webex-checkboxgroup").forEach(e=>{e.onchange=checkboxgroups_func}),document.querySelectorAll(".webex-select").forEach(e=>{e.onchange=select_func;var t=document.createElement("span");t.classList.add("webex-icon"),e.parentNode.appendChild(t)});function e(e,t,n){return async function(){let o=e.dataset.questionOrder.split(",").map(e=>parseInt(e)),s=parseInt(e.dataset.currentPosition);t.forEach(e=>{e.classList.remove("active")}),s=(s+n)%o.length,s<0&&(s=s+o.length),t[o[s]].classList.add("active"),e.dataset.currentPosition=s}}document.querySelectorAll(".webex-group").forEach(t=>{const n=Array.from(t.querySelectorAll(".webex-question"));let s=Array.from({length:n.length},(e,t)=>t);t.classList.contains("noshuffle")||(s=shuffle_array(s));const o=parseInt(t.getAttribute("data-start-position"))||0;n[s[o]].classList.add("active"),t.dataset.questionOrder=s,t.dataset.currentPosition=o,n.forEach(s=>{let a=s.querySelector("ul.webex-button-list"),r=document.createElement("li"),o=document.createElement("button");o.setAttribute("class","webex-button webex-button-next"),webex_buttons.question_next_alt.length>0&&o.setAttribute("title",webex_buttons.question_next_alt),o.innerHTML=webex_buttons.question_next,o.addEventListener("click",e(t,n,1)),r.appendChild(o);let c=document.createElement("li"),i=document.createElement("button");i.setAttribute("class","webex-button webex-button-previous"),webex_buttons.question_previous_alt.length>0&&i.setAttribute("title",webex_buttons.question_previous_alt),i.innerHTML=webex_buttons.question_previous,i.addEventListener("click",e(t,n,-1)),c.appendChild(i),webex_buttons.question_previous.length>0&&a.appendChild(c),webex_buttons.question_next.length>0&&a.appendChild(r)})}),document.querySelectorAll(".webex-question.check").forEach(e=>{e.querySelector(".webex-button-check").click()}),document.querySelectorAll(".webex-question.solution").forEach(e=>{let t=e.querySelector(".webex-button-solution");t!==null&&t.click()}),document.querySelectorAll(".webex-question.prefill").forEach(e=>{e.querySelectorAll("input.webex-solveme").forEach(e=>{let t=JSON.parse(e.dataset.answer);e.value=t[0],e.dispatchEvent(new Event("change"))}),e.querySelectorAll(".webex-radiogroup").forEach(e=>{let s=JSON.parse(e.dataset.answer),t=s.indexOf(1),n=e.querySelectorAll('input[type="radio"]');n[t].checked=!0,n[t].dispatchEvent(new Event("change",{bubbles:!0}))}),e.querySelectorAll(".webex-select").forEach(e=>{let s=JSON.parse(e.dataset.answer),t=s.indexOf(1)+1,n=e.querySelectorAll("option");n[t].selected=!0,n[t].dispatchEvent(new Event("change",{bubbles:!0}))}),e.querySelectorAll(".webex-checkboxgroup").forEach(e=>{let n=JSON.parse(e.dataset.answer),t=e.querySelectorAll('input[type="checkbox"]');for(let e=0;e<t.length;e++)t[e].checked=n[e];t[0].dispatchEvent(new Event("change",{bubbles:!0}))})});function t(e,t,n=20){var o,s=document.createElement("span");return e.appendChild(s),s.innerHTML=t||"",o=parseInt(s.getBoundingClientRect().width)+n,s.remove(),o}document.querySelectorAll(".webex-question.tolerance").forEach(e=>{e.querySelectorAll("input[data-tol]").forEach(e=>{var o,s=null;let n=document.createElement("input");n.type="text",n.disabled=!0,n.classList.add("tolerance"),n.value="± "+e.getAttribute("data-tol"),e.parentNode.insertBefore(n,e),o=document.querySelector("body"),s=t(o,n.value),wold=parseInt(e.getBoundingClientRect().width),wmin=t(o,e.value);let i=Math.max(wmin,wold-s);n.style.width=s+"px",e.style.width=i+"px"})}),update_total_correct()}</script><script id=quarto-html-after-body>window.document.addEventListener("DOMContentLoaded",function(){const j="",c=new window.AnchorJS;c.options={placement:"right",icon:j},c.add(".anchored");const v=e=>{for(const t of e.classList)if(t.startsWith("code-annotation-"))return!0;return!1},p=function(e){const t=e.trigger;t.blur(),t.classList.add("code-copy-button-checked");var s=t.getAttribute("title");t.setAttribute("title","Copied!");let n;window.bootstrap&&(t.setAttribute("data-bs-toggle","tooltip"),t.setAttribute("data-bs-placement","left"),t.setAttribute("data-bs-title","Copied!"),n=new bootstrap.Tooltip(t,{trigger:"manual",customClass:"code-copy-button-tooltip",offset:[0,-8]}),n.show()),setTimeout(function(){n&&(n.hide(),t.removeAttribute("data-bs-title"),t.removeAttribute("data-bs-toggle"),t.removeAttribute("data-bs-placement")),t.setAttribute("title",s),t.classList.remove("code-copy-button-checked")},1e3),e.clearSelection()},m=function(e){const t=e.previousElementSibling.cloneNode(!0);for(const e of t.children)v(e)&&e.remove();return t.innerText},b=new window.ClipboardJS(".code-copy-button:not([data-in-quarto-modal])",{text:m});if(b.on("success",p),window.document.getElementById("quarto-embedded-source-code-modal")){const e=new window.ClipboardJS(".code-copy-button[data-in-quarto-modal]",{text:m,container:window.document.getElementById("quarto-embedded-source-code-modal")});e.on("success",p)}for(var s,g=new RegExp(/^(?:http|https):\/\/localhost:?[0-9]*\//),x=new RegExp(/^mailto:/),O=new RegExp("/"+window.location.host+"/"),w=e=>O.test(e)||g.test(e)||x.test(e),u=window.document.querySelectorAll("a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)"),t=0;t<u.length;t++){const e=u[t];w(e.href)||(e.dataset.originalHref!==0[0]&&(e.href=e.dataset.originalHref),e.setAttribute("target","_blank"),e.getAttribute("rel")===null&&e.setAttribute("rel","noopener"),e.classList.add("external"))}function i(e,t,n,s){const o={allowHTML:!0,maxWidth:500,delay:100,arrow:!1,appendTo:function(e){return e.parentElement},interactive:!0,interactiveBorder:10,theme:"quarto",placement:"bottom-start"};t&&(o.content=t),n&&(o.onTrigger=n),s&&(o.onUntrigger=s),window.tippy(e,o)}const f=window.document.querySelectorAll('a[role="doc-noteref"]');for(t=0;t<f.length;t++){const e=f[t];i(e,function(){let t=e.getAttribute("data-footnote-href")||e.getAttribute("href");try{t=new URL(t).hash}catch{}const s=t.replace(/^#\/?/,""),n=window.document.getElementById(s);return n?n.innerHTML:""})}const r=window.document.querySelectorAll("a.quarto-xref"),o=(e,t)=>{const n=e=>{if(e.classList.remove("page-full","page-columns"),e.children)for(const t of e.children)n(t)};if(n(t),e===null||e.startsWith("sec-")){const e=document.createElement("div");if(t.children&&t.children.length>2){e.appendChild(t.children[0].cloneNode(!0));for(let n=1;n<t.children.length;n++){const s=t.children[n];if(s.tagName==="P"&&s.innerText==="")continue;e.appendChild(s.cloneNode(!0));break}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.innerHTML}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.innerHTML}else{const e=t.querySelector("a.anchorjs-link");return e&&e.remove(),window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.classList.contains("callout")?t.outerHTML:t.innerHTML}};for(t=0;t<r.length;t++){const e=r[t];i(e,0[0],function(t){t.disable();let n=e.getAttribute("href"),s=0[0];if(n.startsWith("#"))s=n;else try{s=new URL(n).hash}catch{}if(s){const e=s.replace(/^#\/?/,""),i=window.document.getElementById(e);if(i!==null)try{const n=o(e,i.cloneNode(!0));t.setContent(n)}finally{t.enable(),t.show()}else fetch(n.split("#")[0]).then(e=>e.text()).then(n=>{const i=new DOMParser,a=i.parseFromString(n,"text/html"),s=a.getElementById(e);if(s!==null){const n=o(e,s);t.setContent(n)}}).finally(()=>{t.enable(),t.show()})}else fetch(n).then(e=>e.text()).then(e=>{const s=new DOMParser,i=s.parseFromString(e,"text/html"),n=i.querySelector("main.content");if(n!==null){n.children.length>0&&n.children[0].tagName==="HEADER"&&n.children[0].remove();const e=o(null,n);t.setContent(e)}}).finally(()=>{t.enable(),t.show()})},function(){})}let n;const h=(e,t)=>{let n='data-code-cell="'+e+'"',s='data-code-annotation="'+t+'"';const o="span["+n+"]["+s+"]";return o},a=e=>{const d=window.document,i=e.getAttribute("data-target-cell"),r=e.getAttribute("data-target-annotation"),c=window.document.querySelector(h(i,r)),l=c.getAttribute("data-code-lines").split(","),t=l.map(e=>i+"-"+e);let s=null,o=null,a=null;if(t.length>0){const r=window.document.getElementById(t[0]);if(s=r.offsetTop,o=r.offsetHeight,a=r.parentElement.parentElement,t.length>1){const e=window.document.getElementById(t[t.length-1]),n=e.offsetTop+e.offsetHeight;o=n-s}if(s!==null&&o!==null&&a!==null){let e=window.document.getElementById("code-annotation-line-highlight");e===null&&(e=window.document.createElement("div"),e.setAttribute("id","code-annotation-line-highlight"),e.style.position="absolute",a.appendChild(e)),e.style.top=s-2+"px",e.style.height=o+4+"px",e.style.left=0;let t=window.document.getElementById("code-annotation-line-highlight-gutter");if(t===null){t=window.document.createElement("div"),t.setAttribute("id","code-annotation-line-highlight-gutter"),t.style.position="absolute";const e=window.document.getElementById(i),n=e.querySelector(".code-annotation-gutter");n.appendChild(t)}t.style.top=s-2+"px",t.style.height=o+4+"px"}n=e}},y=()=>{const e=["code-annotation-line-highlight","code-annotation-line-highlight-gutter"];e.forEach(e=>{const t=window.document.getElementById(e);t&&t.remove()}),n=0[0]};window.addEventListener("resize",_(()=>{elRect=0[0],n&&a(n)},10));function _(e,t){let s=!1,n;return(...o)=>{s?(n&&clearTimeout(n),n=setTimeout(()=>{e.apply(this,o),n=s=!1},t)):(e.apply(this,o),s=!0)}}const d=window.document.querySelectorAll(".code-annotation-anchor");for(let e=0;e<d.length;e++){const t=d[e],n=t.getAttribute("data-target-cell"),s=t.getAttribute("data-target-annotation"),o=()=>{const e=window.document.querySelector(h(n,s));if(e){const t=e.cloneNode(!0);return t.classList.add("code-annotation-tip-content"),t.outerHTML}},i={allowHTML:!0,content:o,onShow:e=>{a(e.reference),e.reference.classList.add("code-annotation-active"),window.tippy.hideAll()},onHide:e=>{y(),e.reference.classList.remove("code-annotation-active")},maxWidth:300,delay:[50,0],duration:[200,0],offset:[5,10],arrow:!0,appendTo:function(e){return e.parentElement.parentElement.parentElement},interactive:!0,interactiveBorder:10,theme:"quarto",placement:"right",popperOptions:{modifiers:[{name:"flip",options:{flipVariations:!1,allowedAutoPlacements:["right"],fallbackPlacements:["right","top","top-start","top-end","bottom","bottom-start","bottom-end","left"]}},{name:"preventOverflow",options:{mainAxis:!1,altAxis:!1}}]}};window.tippy(t,i)}const l=e=>{const t=e.parentElement;if(t){const n=t.dataset.cites;return n?{el:e,cites:n.split(" ")}:l(e.parentElement)}else return 0[0]};for(s=window.document.querySelectorAll('a[role="doc-biblioref"]'),t=0;t<s.length;t++){const n=s[t],e=l(n);e&&i(e.el,function(){var t=window.document.createElement("div");return e.cites.forEach(function(e){var s,n=window.document.createElement("div");n.classList.add("hanging-indent"),n.classList.add("csl-entry"),s=window.document.getElementById("ref-"+e),s&&(n.innerHTML=s.innerHTML),t.appendChild(n)}),t.innerHTML})}})</script></div><footer class=footer><div class=nav-footer><div class=nav-footer-left><p><img id=footer-cat-left src=../images/cat-left.png alt="Cat Left"></div><div class=nav-footer-center><p><span id=footer-center>Made with ❤️ by Tony, (CC&nbsp;BY&nbsp;4.0)<br><span style=font-size:8px>Cat source: Freepik and ChatGPT</span></span></div><div class=nav-footer-right><p><img id=footer-cat-right src=../images/cat-right.png alt="Cat Right"></div></div></footer>