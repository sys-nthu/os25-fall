<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en xml:lang=en><meta charset=utf-8><meta name=generator content="quarto-1.7.33"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><title>mini-cloud – Operating System (2025 Fall)</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}div.columns{display:flex;gap:min(4vw,1.5em)}div.column{flex:auto;overflow-x:auto}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list{list-style:none}ul.task-list li input[type=checkbox]{width:.8em;margin:0 .8em .2em -1em;vertical-align:middle}html{-webkit-text-size-adjust:100%}pre>code.sourceCode{white-space:pre;position:relative}pre>code.sourceCode>span{display:inline-block;line-height:1.25}pre>code.sourceCode>span:empty{height:1.2em}.sourceCode{overflow:visible}code.sourceCode>span{color:inherit;text-decoration:inherit}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{pre>code.sourceCode{white-space:pre-wrap}pre>code.sourceCode>span{text-indent:-5em;padding-left:5em}}pre.numberSource code{counter-reset:source-line 0}pre.numberSource code>span{position:relative;left:-4em;counter-increment:source-line}pre.numberSource code>span>a:first-child::before{content:counter(source-line);position:relative;left:-1em;text-align:right;vertical-align:baseline;border:none;display:inline-block;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em}pre.numberSource{margin-left:3em;padding-left:4px}div.sourceCode{}@media screen{pre>code.sourceCode>span>a:first-child::before{text-decoration:underline}}</style><script src=../site_libs/quarto-nav/quarto-nav.js></script><script src=../site_libs/clipboard/clipboard.min.js></script><script src=../site_libs/quarto-search/autocomplete.umd.js></script><script src=../site_libs/quarto-search/fuse.min.js></script><script src=../site_libs/quarto-search/quarto-search.js></script><meta name=quarto:offset content="../"><link href=../images/orange.png rel=icon type=image/png><script src=../site_libs/quarto-html/quarto.js type=module></script><script src=../site_libs/quarto-html/tabsets/tabsets.js type=module></script><script src=../site_libs/quarto-html/popper.min.js></script><script src=../site_libs/quarto-html/tippy.umd.min.js></script><script src=../site_libs/quarto-html/anchor.min.js></script><link href=../site_libs/quarto-html/tippy.css rel=stylesheet><link href=../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css rel=stylesheet id=quarto-text-highlighting-styles><script src=../site_libs/bootstrap/bootstrap.min.js></script><link href=../site_libs/bootstrap/bootstrap-icons.css rel=stylesheet><link href=../site_libs/bootstrap/bootstrap-a3d6f4078ec9f2632a80ad631344d584.min.css rel=stylesheet append-hash=true id=quarto-bootstrap data-mode=light><script id=quarto-search-options type=application/json>{"location":"navbar","copy-button":false,"collapse-after":3,"panel-placement":"end","type":"overlay","limit":50,"keyboard-shortcut":["f","/","s"],"show-item-context":false,"language":{"search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search"}}</script><body class="nav-sidebar docked nav-fixed slimcontent quarto-light"><div id=quarto-search-results></div><header id=quarto-header class="headroom fixed-top"><nav class="navbar navbar-expand-lg" data-bs-theme=dark><div class="navbar-container container-fluid"><div class="navbar-brand-container mx-auto"><a class=navbar-brand href=../index.html><span class=navbar-title>Operating System (2025 Fall)</span></a></div><div id=quarto-search title=Search></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarCollapse aria-controls=navbarCollapse role=menu aria-expanded=false aria-label="Toggle navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarCollapse><ul class="navbar-nav navbar-nav-scroll me-auto"><li class=nav-item><a class="nav-link active" href=../index.html aria-current=page><span class=menu-text>Home</span></a><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=nav-menu-handouts role=link data-bs-toggle=dropdown aria-expanded=false><span class=menu-text>Handouts</span></a><ul class=dropdown-menu aria-labelledby=nav-menu-handouts><li><a class=dropdown-item href=../handouts/env_setup.html><span class=dropdown-text>Enviroment setup</span></a></ul><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=nav-menu-admin role=link data-bs-toggle=dropdown aria-expanded=false><span class=menu-text>Admin</span></a><ul class=dropdown-menu aria-labelledby=nav-menu-admin><li><a class=dropdown-item href=../admin/policies.html><span class=dropdown-text>Policies</span></a><li><a class=dropdown-item href=../admin/explore.html><span class=dropdown-text>Exploratory Projects</span></a><li><a class=dropdown-item href=../admin/waitbutwhy.html><span class=dropdown-text>SD1↓ (燒蛋一下)</span></a></ul></ul><ul class="navbar-nav navbar-nav-scroll ms-auto"><li class="nav-item compact"><a class=nav-link href=https://dcs.site.nthu.edu.tw/><i class="bi bi-globe" role=img></i><span class=menu-text></span></a></ul></div><div class=quarto-navbar-tools></div></div></nav><nav class=quarto-secondary-nav><div class="container-fluid d-flex"><button type=button class="quarto-btn-toggle btn" data-bs-toggle=collapse role=button data-bs-target=.quarto-sidebar-collapse-item aria-controls=quarto-sidebar aria-expanded=false aria-label="Toggle sidebar navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()>
<i class="bi bi-layout-text-sidebar-reverse"></i></button><nav class=quarto-page-breadcrumbs aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../weeks/w3.html>Worksheet 3</a><li class=breadcrumb-item><a href=../labs/mini-cloud.html>Your First Week in OS Journey</a></ol></nav><a class=flex-grow-1 role=navigation data-bs-toggle=collapse data-bs-target=.quarto-sidebar-collapse-item aria-controls=quarto-sidebar aria-expanded=false aria-label="Toggle sidebar navigation" onclick=window.quartoToggleHeadroom&&window.quartoToggleHeadroom()></a><button type=button class="btn quarto-search-button" aria-label=Search onclick=window.quartoOpenSearch()>
<i class="bi bi-search"></i></button></div></nav></header><div id=quarto-content class="quarto-container page-columns page-rows-contents page-layout-article page-navbar"><nav id=quarto-sidebar class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center"><div class=sidebar-search><div id=quarto-search title=Search></div></div></div><div class=sidebar-menu-container><ul class="list-unstyled mt-1"><li class=sidebar-item><div class=sidebar-item-container><a href=../index.html class="sidebar-item-text sidebar-link"><span class=menu-text>OS 2025 Fall</span></a></div><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w2.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 2</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-1 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-1 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/env_setup.html class="sidebar-item-text sidebar-link"><span class=menu-text>Environment setup</span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w3.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 3</span></a>
<a class="sidebar-item-toggle text-start" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-2 role=navigation aria-expanded=true aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-2 class="collapse list-unstyled sidebar-section depth1 show"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/unix.html class="sidebar-item-text sidebar-link"><span class=menu-text>Unix Philosophy</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/mini-cloud.html class="sidebar-item-text sidebar-link active"><span class=menu-text>Your First Week in OS Journey</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/process-creation.html class="sidebar-item-text sidebar-link"><span class=menu-text><code>fork()</code>/<code>exec()</code></span></a></div></ul><li class="sidebar-item sidebar-item-section"><div class=sidebar-item-container><a href=../weeks/w4.html class="sidebar-item-text sidebar-link"><span class=menu-text>Worksheet 4</span></a>
<a class="sidebar-item-toggle text-start collapsed" data-bs-toggle=collapse data-bs-target=#quarto-sidebar-section-3 role=navigation aria-expanded=false aria-label="Toggle section"><i class="bi bi-chevron-right ms-2"></i></a></div><ul id=quarto-sidebar-section-3 class="collapse list-unstyled sidebar-section depth1"><li class=sidebar-item><div class=sidebar-item-container><a href=../handouts/privilege.html class="sidebar-item-text sidebar-link"><span class=menu-text>Privilege</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/path-traversal.html class="sidebar-item-text sidebar-link"><span class=menu-text>Lab: Path Traversal Attack</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/process-address-space.html class="sidebar-item-text sidebar-link"><span class=menu-text>Address Space Layout</span></a></div><li class=sidebar-item><div class=sidebar-item-container><a href=../labs/linking.html class="sidebar-item-text sidebar-link"><span class=menu-text>Static vs Dynamic Linking</span></a></div></ul></ul></div></nav><div id=quarto-sidebar-glass class=quarto-sidebar-collapse-item data-bs-toggle=collapse data-bs-target=.quarto-sidebar-collapse-item></div><div id=quarto-margin-sidebar class="sidebar margin-sidebar zindex-bottom"></div><main class="content page-columns page-full" id=quarto-document-content><header id=title-block-header class=quarto-title-block><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=../weeks/w3.html>Worksheet 3</a><li class=breadcrumb-item><a href=../labs/mini-cloud.html>Your First Week in OS Journey</a></ol></nav></header><section id=your-first-week-in-os-journey class=level2><h2 class=anchored data-anchor-id=your-first-week-in-os-journey>Your First Week in OS Journey</h2><p>This week, your mission is to help a new engineer at the cloud company, <a href=https://www.datadoghq.com/>Datadog</a>.<p>Meet <a href=../index.html#cast>Niko</a>!! He’s a vegetable bird (菜鳥), and is a little nervous about his first big assignment. His boss, Nini, asked him to play with a <span class=green><strong>virtual mini-cloud</strong></span> before he is allowed to touch a real client’s production environment.<p>Your job is to follow Nini’s instructions and help Niko succeed. Ready?</section><section id=a-bubble-within-a-bubble class="level2 page-columns page-full"><h2 class=anchored data-anchor-id=a-bubble-within-a-bubble>A Bubble Within a Bubble</h2><p><strong>Nini:</strong> “At Datadog, we manage big, complex cloud systems. Your training starts with a small, safe version. You’ll work inside a <strong>Docker container</strong> on GitHub Codespaces. Inside this container, you will use a tool called a <strong>hypervisor</strong> (QEMU) to launch three fully independent <strong>Virtual Machines (VMs)</strong>. Essentially, you’re building a bubble inside of another bubble.”<p><strong>Niko:</strong> “A bubble in a bubble? And what’s the difference between a container and a VM?”<div class="no-row-height column-margin column-container"><div class=margin-aside><p>More info: <a href=https://www.atlassian.com/microservices/cloud-computing/containers-vs-vms>Container vs.&nbsp;VM Differences</a>.</div></div><p><strong>Nini:</strong> “Great question! Let me put it this way…”<div class="callout callout-style-default callout-note callout-titled"><div class="callout-header d-flex align-content-center" data-bs-toggle=collapse data-bs-target=.callout-1-contents aria-controls=callout-1 aria-expanded=true aria-label="Toggle callout"><div class=callout-icon-container><i class=callout-icon></i></div><div class="callout-title-container flex-fill">Universities Within a University</div><div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class=callout-toggle></i></div></div><div id=callout-1 class="callout-1-contents callout-collapse collapse show"><div class="callout-body-container callout-body"><p>Think of the giant <strong>GitHub server</strong> as <strong>NTHU’s main campus</strong>: it has one central operating system, the <strong>kernel</strong>.<p>Our Codespace <strong>container</strong> is like the <strong>CS Department building</strong> on that campus. It’s an isolated space, but it still <em>shares</em> the main campus’s resources and underlying kernel. If you look around from inside the CS building, you only see CS stuff; you don’t see the activities of the Physics or Chemistry departments.<p>Now, the magic starts. Inside our CS Department building, we will create three brand new, tiny, simulated universities. Each <strong>Virtual Machine (VM)</strong> is a whole new mini-university, with its <strong>own kernel</strong>.<ul><li>A mini-NTHU (<code>Debian</code> VM)<li>A mini-NTU (<code>Alpine</code> VM)<li>A mini-NYCU (<code>Router7</code> VM) (交大的確是台灣學術網路的骨幹喔)</ul><p>Our <strong>container</strong> just <em>shares</em> a kernel, but a <strong>VM</strong> <em>is</em> a whole new kernel.</div></div></div><p>In this mini-cloud, the <code>Debian</code> and <code>Alpine</code> VMs will act as servers. All their traffic will pass through the <code>Router7</code> VM, which works just like a Wi-Fi router at home (which also runs a Linux kernel!).<p><img src=../images/os-jungle-architecture.png class=img-fluid></section><section id=set-up-your-mini-cloud class=level2><h2 class=anchored data-anchor-id=set-up-your-mini-cloud>Set up Your Mini-cloud</h2><p>Click the button below and click “Create Codespace”. This will open a web-based VS Code devcontainer on Github.<p><a href=https://codespaces.new/sys-nthu/vm-playground><img src=https://github.com/codespaces/badge.svg class=img-fluid alt="open in GitHub Codespaces"></a>.<p>It might take a minute or two for the Codespace to build. Once you see a VS Code interface with a terminal at the bottom, you’re ready to go.<p>In the terminal, run the setup script. This will download the three VM images we need (<code>router7</code>, <code>debian</code>, <code>alpine</code>) and install the QEMU hypervisor.<div class=sourceCode id=cb1><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb1-1><a href=#cb1-1 aria-hidden=true tabindex=-1></a><span class=ex>./setup.sh</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Wait for the script to finish downloading and setting everything up.</section><section id=booting-the-network class="level2 page-columns page-full"><h2 class=anchored data-anchor-id=booting-the-network>Booting the Network</h2><p>Our mini-cloud uses the <code>router7</code> router to connect everything. The <code>router7</code> image is a cool, lightweight Linux system running a custom router program written in Go.<p>Let’s boot it up!<div class=sourceCode id=cb2><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb2-1><a href=#cb2-1 aria-hidden=true tabindex=-1></a><span class=ex>./run-router7.sh</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>When the OS boots, you will see a bunch of messages. Wait one minute and <strong>just press <code>Enter</code></strong> to get a command prompt.<p>Now, let’s inspect the router’s network interfaces.<div class=sourceCode id=cb3><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true tabindex=-1></a><span class=ex>ip</span> a</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Do you see <code>uplink0</code> and <code>lan0</code>? A real-world home router usually has one “WAN” or “Internet” port (the uplink) and several “LAN” ports for your home devices (the downlinks).<p><img src=https://it.uw.edu/wp-content/uploads/2013/05/router1.jpg class=img-fluid style=max-width:50%;float:right;margin-left:30px><p>One important job of an operating system is to manage I/O device. Each of the network interface is an I/O device.<div class="no-row-height column-margin column-container"><div class=margin-aside><p>The <code>router7</code> image comes from the <a href=https://qemu-advent-calendar.org/2023/>QEMU Advent Calendar 2023</a>, which has tons of other fun and quirky VM images. Feel free to explore them on your own time!</div></div></section><section id=launching-your-servers class=level2><h2 class=anchored data-anchor-id=launching-your-servers>Launching Your Servers</h2><p>Now that the router is running, let’s launch our two “server” VMs: a Debian VM and an Alpine Linux VM. Both runs the Linux kernel, but Alpine is very small and lightweight.<p>First, open a <strong>new terminal</strong> in VS Code. You can do this by clicking the <code>+</code> icon in the terminal panel.<p>In this <strong>second terminal</strong>, run the Debian VM:<div class=sourceCode id=cb4><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true tabindex=-1></a><span class=ex>./run-debian.sh</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>When prompted for a login, use these credentials:<ul><li><strong>username:</strong> <code>root</code><li><strong>password:</strong> <code>root</code></ul><p>Next, open a <strong>third terminal</strong> (click the <code>+</code> again) and run the Alpine VM:<div class=sourceCode id=cb5><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb5-1><a href=#cb5-1 aria-hidden=true tabindex=-1></a><span class=ex>./run-alpine.sh</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Log in with the same credentials:<ul><li><strong>username:</strong> <code>root</code><li><strong>password:</strong> <code>root</code></ul><p>You should now have three terminals running: one for the router, one for Debian, and one for Alpine.</section><section id=making-connections class=level2><h2 class=anchored data-anchor-id=making-connections>Making Connections</h2><p>Let’s see if our machines can talk to each other.<ol type=1><li><p><strong>Find Debian’s IP Address</strong>: In the <strong>Debian VM terminal</strong>, run <code>ip a</code> to find its IP address. It will likely be something like <code>10.254.0.203</code>.<li><p><strong>Connect from Alpine to Debian</strong>: Now, switch to the <strong>Alpine VM terminal</strong>. We’ll try to log in to the Debian machine using SSH. Replace <code>[ip address of debian]</code> with the actual IP you found in the previous step.</ol><div class=sourceCode id=cb6><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb6-1><a href=#cb6-1 aria-hidden=true tabindex=-1></a><span class=fu>ssh</span> root@[ip address of debian]</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p><code>ssh</code> is how you will connect to servers everywhere. <a href=https://missing.csail.mit.edu/2020/command-line/#remote-machines>See MIT’s explanation</a>.</section><section id=checking-the-routers-records class=level2><h2 class=anchored data-anchor-id=checking-the-routers-records>Checking the Router’s Records</h2><p>How did your Alpine and Debian VMs get their IP addresses? The router runs a DHCP server that offers IP addresses to OSs that join the network.<p>Switch back to the <strong>router7 terminal</strong>. The DHCP server’s lease records are stored in a JSON file. Let’s view its contents.<div class=sourceCode id=cb7><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb7-1><a href=#cb7-1 aria-hidden=true tabindex=-1></a><span class=fu>cat</span> /perm/dhcp4d/leases.json</span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>You should see entries for both the Debian and Alpine VMs, listing their MAC addresses and the IP addresses the router assigned to them. Something like this:<div class=sourceCode id=cb8><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id=cb8-1><a href=#cb8-1 aria-hidden=true tabindex=-1></a><span class=er>#</span> <span class=er>cat</span> <span class=er>/perm/dhcp4d/leases.json</span> </span>
<span id=cb8-2><a href=#cb8-2 aria-hidden=true tabindex=-1></a><span class=ot>[</span></span>
<span id=cb8-3><a href=#cb8-3 aria-hidden=true tabindex=-1></a>        <span class=fu>{</span></span>
<span id=cb8-4><a href=#cb8-4 aria-hidden=true tabindex=-1></a>                <span class=dt>"num"</span><span class=fu>:</span> <span class=dv>144</span><span class=fu>,</span></span>
<span id=cb8-5><a href=#cb8-5 aria-hidden=true tabindex=-1></a>                <span class=dt>"addr"</span><span class=fu>:</span> <span class=st>"10.254.0.146"</span><span class=fu>,</span></span>
<span id=cb8-6><a href=#cb8-6 aria-hidden=true tabindex=-1></a>                <span class=dt>"hardware_addr"</span><span class=fu>:</span> <span class=st>"52:55:00:aa:00:11"</span><span class=fu>,</span></span>
<span id=cb8-7><a href=#cb8-7 aria-hidden=true tabindex=-1></a>                <span class=dt>"hostname"</span><span class=fu>:</span> <span class=st>"localhost"</span><span class=fu>,</span></span>
<span id=cb8-8><a href=#cb8-8 aria-hidden=true tabindex=-1></a>                <span class=dt>"hostname_override"</span><span class=fu>:</span> <span class=st>""</span><span class=fu>,</span></span>
<span id=cb8-9><a href=#cb8-9 aria-hidden=true tabindex=-1></a>                <span class=dt>"expiry"</span><span class=fu>:</span> <span class=st>"2025-09-01T23:47:22.401988058-04:00"</span><span class=fu>,</span></span>
<span id=cb8-10><a href=#cb8-10 aria-hidden=true tabindex=-1></a>                <span class=dt>"last_ack"</span><span class=fu>:</span> <span class=st>"2025-09-01T23:27:22.401993257-04:00"</span></span>
<span id=cb8-11><a href=#cb8-11 aria-hidden=true tabindex=-1></a>        <span class=fu>}</span><span class=ot>,</span></span>
<span id=cb8-12><a href=#cb8-12 aria-hidden=true tabindex=-1></a>        <span class=fu>{</span></span>
<span id=cb8-13><a href=#cb8-13 aria-hidden=true tabindex=-1></a>                <span class=dt>"num"</span><span class=fu>:</span> <span class=dv>201</span><span class=fu>,</span></span>
<span id=cb8-14><a href=#cb8-14 aria-hidden=true tabindex=-1></a>                <span class=dt>"addr"</span><span class=fu>:</span> <span class=st>"10.254.0.203"</span><span class=fu>,</span></span>
<span id=cb8-15><a href=#cb8-15 aria-hidden=true tabindex=-1></a>                <span class=dt>"hardware_addr"</span><span class=fu>:</span> <span class=st>"52:55:00:aa:00:10"</span><span class=fu>,</span></span>
<span id=cb8-16><a href=#cb8-16 aria-hidden=true tabindex=-1></a>                <span class=dt>"hostname"</span><span class=fu>:</span> <span class=st>"os25"</span><span class=fu>,</span></span>
<span id=cb8-17><a href=#cb8-17 aria-hidden=true tabindex=-1></a>                <span class=dt>"hostname_override"</span><span class=fu>:</span> <span class=st>""</span><span class=fu>,</span></span>
<span id=cb8-18><a href=#cb8-18 aria-hidden=true tabindex=-1></a>                <span class=dt>"expiry"</span><span class=fu>:</span> <span class=st>"2025-09-01T23:42:30.108212438-04:00"</span><span class=fu>,</span></span>
<span id=cb8-19><a href=#cb8-19 aria-hidden=true tabindex=-1></a>                <span class=dt>"last_ack"</span><span class=fu>:</span> <span class=st>"2025-09-01T23:22:30.108216646-04:00"</span></span>
<span id=cb8-20><a href=#cb8-20 aria-hidden=true tabindex=-1></a>        <span class=fu>}</span></span>
<span id=cb8-21><a href=#cb8-21 aria-hidden=true tabindex=-1></a><span class=ot>]</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div></section><section id=the-magic-of-virtualization class=level2><h2 class=anchored data-anchor-id=the-magic-of-virtualization>The Magic of Virtualization</h2><p>Let’s do one last thing. Open a <strong>fourth terminal</strong> in VS Code. This terminal is for the host Codespace environment, not one of our VMs.<p>Run the <code>htop</code> command to see the system’s resource usage.<div class=sourceCode id=cb9><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id=cb9-1><a href=#cb9-1 aria-hidden=true tabindex=-1></a><span class=ex>htop</span></span></code><button title="Copy to Clipboard" class=code-copy-button><i class=bi></i></button></pre></div><p>Look at the the CPU usage bars on top-left corner. Most Codespace instances have only 2 CPUs. Yet, we are running three separate VMs, and if you check their configurations, each might believe it has 2 virtual CPUs (vCPUs) all to itself! We could launch even more!!<p><strong>Think about it:</strong><ol type=1><li>How is it possible to run so many “virtual CPUs” on a machine with only 2 physical CPU cores?<li>What do you think would happen to the performance of all the VMs if one of them started running a very CPU-intensive application (like a game)?</ol><div class="callout callout-style-default callout-note callout-titled"><div class="callout-header d-flex align-content-center" data-bs-toggle=collapse data-bs-target=.callout-2-contents aria-controls=callout-2 aria-expanded=true aria-label="Toggle callout"><div class=callout-icon-container><i class=callout-icon></i></div><div class="callout-title-container flex-fill">Over-subscription</div><div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class=callout-toggle></i></div></div><div id=callout-2 class="callout-2-contents callout-collapse collapse show"><div class="callout-body-container callout-body"><p>Promising more CPUs than you physically have: this is called over-subscription. Over-subscription appears everywhere. This is how Google is able to host more than thousands of Colab container on one single server, but each container thinks he is the only person in the world. This saves company a lot of money.</div></div></div></section><section id=mission-complete class=level2><h2 class=anchored data-anchor-id=mission-complete>Mission Complete!</h2><p>Thanks to your help, Niko has successfully completed his first training mission!</section><section id=more-adventures-in-the-os-jungle class=level2><h2 class=anchored data-anchor-id=more-adventures-in-the-os-jungle>More Adventures in the OS Jungle</h2><p>The OS jungle is big and full of fascinating OSs. Check out the <strong><a href=https://copy.sh/v86/>v86 Project</a></strong>.<p>This amazing project is an entire x86 PC emulator written in JavaScript. That means it can boot and run old operating systems directly in your web browser, no server required! (Github Codespace’s VS Code is running on Github cloud, but v86 is truly entirely running on your own computer).<p>Go ahead and try booting up some of the classics:<ul><li>Windows 98<li>MS-DOS<li>A very old version of Linux (e.g., DSL)<li>ReactOS (an open-source clone of Windows)</ul></section><a onclick="return window.scrollTo(0,0),!1" role=button id=quarto-back-to-top><i class="bi bi-arrow-up"></i> Back to top</a></main><script id=quarto-html-after-body>window.document.addEventListener("DOMContentLoaded",function(){const j="",c=new window.AnchorJS;c.options={placement:"right",icon:j},c.add(".anchored");const v=e=>{for(const t of e.classList)if(t.startsWith("code-annotation-"))return!0;return!1},h=function(e){const t=e.trigger;t.blur(),t.classList.add("code-copy-button-checked");var s=t.getAttribute("title");t.setAttribute("title","Copied!");let n;window.bootstrap&&(t.setAttribute("data-bs-toggle","tooltip"),t.setAttribute("data-bs-placement","left"),t.setAttribute("data-bs-title","Copied!"),n=new bootstrap.Tooltip(t,{trigger:"manual",customClass:"code-copy-button-tooltip",offset:[0,-8]}),n.show()),setTimeout(function(){n&&(n.hide(),t.removeAttribute("data-bs-title"),t.removeAttribute("data-bs-toggle"),t.removeAttribute("data-bs-placement")),t.setAttribute("title",s),t.classList.remove("code-copy-button-checked")},1e3),e.clearSelection()},m=function(e){const t=e.previousElementSibling.cloneNode(!0);for(const e of t.children)v(e)&&e.remove();return t.innerText},g=new window.ClipboardJS(".code-copy-button:not([data-in-quarto-modal])",{text:m});if(g.on("success",h),window.document.getElementById("quarto-embedded-source-code-modal")){const e=new window.ClipboardJS(".code-copy-button[data-in-quarto-modal]",{text:m,container:window.document.getElementById("quarto-embedded-source-code-modal")});e.on("success",h)}for(var s,p=new RegExp(/^(?:http|https):\/\/localhost:?[0-9]*\//),x=new RegExp(/^mailto:/),O=new RegExp("/"+window.location.host+"/"),y=e=>O.test(e)||p.test(e)||x.test(e),u=window.document.querySelectorAll("a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)"),t=0;t<u.length;t++){const e=u[t];y(e.href)||(e.dataset.originalHref!==0[0]&&(e.href=e.dataset.originalHref),e.setAttribute("target","_blank"),e.getAttribute("rel")===null&&e.setAttribute("rel","noopener"),e.classList.add("external"))}function i(e,t,n,s){const o={allowHTML:!0,maxWidth:500,delay:100,arrow:!1,appendTo:function(e){return e.parentElement},interactive:!0,interactiveBorder:10,theme:"quarto",placement:"bottom-start"};t&&(o.content=t),n&&(o.onTrigger=n),s&&(o.onUntrigger=s),window.tippy(e,o)}const f=window.document.querySelectorAll('a[role="doc-noteref"]');for(t=0;t<f.length;t++){const e=f[t];i(e,function(){let t=e.getAttribute("data-footnote-href")||e.getAttribute("href");try{t=new URL(t).hash}catch{}const s=t.replace(/^#\/?/,""),n=window.document.getElementById(s);return n?n.innerHTML:""})}const r=window.document.querySelectorAll("a.quarto-xref"),o=(e,t)=>{const n=e=>{if(e.classList.remove("page-full","page-columns"),e.children)for(const t of e.children)n(t)};if(n(t),e===null||e.startsWith("sec-")){const e=document.createElement("div");if(t.children&&t.children.length>2){e.appendChild(t.children[0].cloneNode(!0));for(let n=1;n<t.children.length;n++){const s=t.children[n];if(s.tagName==="P"&&s.innerText==="")continue;e.appendChild(s.cloneNode(!0));break}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.innerHTML}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.innerHTML}else{const e=t.querySelector("a.anchorjs-link");return e&&e.remove(),window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.classList.contains("callout")?t.outerHTML:t.innerHTML}};for(t=0;t<r.length;t++){const e=r[t];i(e,0[0],function(t){t.disable();let n=e.getAttribute("href"),s=0[0];if(n.startsWith("#"))s=n;else try{s=new URL(n).hash}catch{}if(s){const e=s.replace(/^#\/?/,""),i=window.document.getElementById(e);if(i!==null)try{const n=o(e,i.cloneNode(!0));t.setContent(n)}finally{t.enable(),t.show()}else fetch(n.split("#")[0]).then(e=>e.text()).then(n=>{const i=new DOMParser,a=i.parseFromString(n,"text/html"),s=a.getElementById(e);if(s!==null){const n=o(e,s);t.setContent(n)}}).finally(()=>{t.enable(),t.show()})}else fetch(n).then(e=>e.text()).then(e=>{const s=new DOMParser,i=s.parseFromString(e,"text/html"),n=i.querySelector("main.content");if(n!==null){n.children.length>0&&n.children[0].tagName==="HEADER"&&n.children[0].remove();const e=o(null,n);t.setContent(e)}}).finally(()=>{t.enable(),t.show()})},function(){})}let n;const b=(e,t)=>{let n='data-code-cell="'+e+'"',s='data-code-annotation="'+t+'"';const o="span["+n+"]["+s+"]";return o},a=e=>{const d=window.document,i=e.getAttribute("data-target-cell"),r=e.getAttribute("data-target-annotation"),c=window.document.querySelector(b(i,r)),l=c.getAttribute("data-code-lines").split(","),t=l.map(e=>i+"-"+e);let s=null,o=null,a=null;if(t.length>0){const r=window.document.getElementById(t[0]);if(s=r.offsetTop,o=r.offsetHeight,a=r.parentElement.parentElement,t.length>1){const e=window.document.getElementById(t[t.length-1]),n=e.offsetTop+e.offsetHeight;o=n-s}if(s!==null&&o!==null&&a!==null){let e=window.document.getElementById("code-annotation-line-highlight");e===null&&(e=window.document.createElement("div"),e.setAttribute("id","code-annotation-line-highlight"),e.style.position="absolute",a.appendChild(e)),e.style.top=s-2+"px",e.style.height=o+4+"px",e.style.left=0;let t=window.document.getElementById("code-annotation-line-highlight-gutter");if(t===null){t=window.document.createElement("div"),t.setAttribute("id","code-annotation-line-highlight-gutter"),t.style.position="absolute";const e=window.document.getElementById(i),n=e.querySelector(".code-annotation-gutter");n.appendChild(t)}t.style.top=s-2+"px",t.style.height=o+4+"px"}n=e}},d=()=>{const e=["code-annotation-line-highlight","code-annotation-line-highlight-gutter"];e.forEach(e=>{const t=window.document.getElementById(e);t&&t.remove()}),n=0[0]};window.addEventListener("resize",_(()=>{elRect=0[0],n&&a(n)},10));function _(e,t){let s=!1,n;return(...o)=>{s?(n&&clearTimeout(n),n=setTimeout(()=>{e.apply(this,o),n=s=!1},t)):(e.apply(this,o),s=!0)}}const w=window.document.querySelectorAll("dt[data-target-cell]");for(const e of w)e.addEventListener("click",e=>{const t=e.target;if(t!==n){d();const e=window.document.querySelector("dt[data-target-cell].code-annotation-active");e&&e.classList.remove("code-annotation-active"),a(t),t.classList.add("code-annotation-active")}else d(),t.classList.remove("code-annotation-active")});const l=e=>{const t=e.parentElement;if(t){const n=t.dataset.cites;return n?{el:e,cites:n.split(" ")}:l(e.parentElement)}else return 0[0]};for(s=window.document.querySelectorAll('a[role="doc-biblioref"]'),t=0;t<s.length;t++){const n=s[t],e=l(n);e&&i(e.el,function(){var t=window.document.createElement("div");return e.cites.forEach(function(e){var s,n=window.document.createElement("div");n.classList.add("hanging-indent"),n.classList.add("csl-entry"),s=window.document.getElementById("ref-"+e),s&&(n.innerHTML=s.innerHTML),t.appendChild(n)}),t.innerHTML})}})</script></div><footer class=footer><div class=nav-footer><div class=nav-footer-left><p><img id=footer-cat-left src=../images/cat-left.png alt="Cat Left"></div><div class=nav-footer-center><p><span id=footer-center>Made with ❤️ by Tony, (CC&nbsp;BY&nbsp;4.0)<br><span style=font-size:8px>Cat source: Freepik and ChatGPT</span></span></div><div class=nav-footer-right><p><img id=footer-cat-right src=../images/cat-right.png alt="Cat Right"></div></div></footer>